!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.arangojs=t():e.arangojs=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=18)}([function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return Boolean(e&&e.isArangoError)}Object.defineProperty(t,"__esModule",{value:!0});var u=r(22),s={0:"Network Error",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",444:"Connection Closed Without Response",451:"Unavailable For Legal Reasons",499:"Client Closed Request",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",510:"Not Extended",511:"Network Authentication Required",599:"Network Connect Timeout Error"},c=["fileName","lineNumber","columnNumber","stack","description","number"];t.isArangoError=a;var l=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.name="ArangoError",r.isArangoError=!0,r.response=e,r.statusCode=e.statusCode,r.message=e.body.errorMessage,r.errorNum=e.body.errorNum,r.code=e.body.code;var i=new Error(r.message);i.name=r.name;var a=!0,u=!1,s=void 0;try{for(var l,f=c[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var h=l.value;i[h]&&(r[h]=i[h])}}catch(i){u=!0,s=i}finally{try{!a&&f.return&&f.return()}finally{if(u)throw s}}return r}return i(t,e),t}(u.default);t.ArangoError=l;var f=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.name="HttpError",r.response=e,r.statusCode=e.statusCode||500,r.message=s[r.statusCode]||s[500],r.code=r.statusCode;var i=new Error(r.message);i.name=r.name;var a=!0,u=!1,l=void 0;try{for(var f,h=c[Symbol.iterator]();!(a=(f=h.next()).done);a=!0){var p=f.value;i[p]&&(r[p]=i[p])}}catch(i){u=!0,l=i}finally{try{!a&&h.return&&h.return()}finally{if(u)throw l}}return r}return i(t,e),t}(u.default);t.HttpError=f},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function a(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){return Boolean(e&&e.isArangoCollection)}function c(e,t){return new(t.type===h.EDGE_COLLECTION?m:v)(e,t.name)}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var h,p=r(6),y=r(0);!function(e){e[e.DOCUMENT_COLLECTION=2]="DOCUMENT_COLLECTION",e[e.EDGE_COLLECTION=3]="EDGE_COLLECTION"}(h=t.CollectionType||(t.CollectionType={})),t.isArangoCollection=s,t.DOCUMENT_NOT_FOUND=1202,t.COLLECTION_NOT_FOUND=1203;var d=function(){function e(t,r){u(this,e),this.isArangoCollection=!0,this.name=r,this._idPrefix=this.name+"/",this._connection=t,this._connection.arangoMajor>=3&&(this.first=void 0,this.last=void 0,this.createCapConstraint=void 0)}return f(e,[{key:"_documentPath",value:function(e){return"/document/"+this._documentHandle(e)}},{key:"_documentHandle",value:function(e){if("string"!=typeof e){if(e._id)return e._id;if(e._key)return this._idPrefix+e._key;throw new Error("Document handle must be a document or string")}return-1===e.indexOf("/")?this._idPrefix+e:e}},{key:"_indexHandle",value:function(e){if("string"!=typeof e){if(e.id)return e.id;throw new Error("Index handle must be a index or string")}return-1===e.indexOf("/")?this._idPrefix+e:e}},{key:"_get",value:function(e,t){return this._connection.request({path:"/_api/collection/"+this.name+"/"+e,qs:t},function(e){return e.body})}},{key:"_put",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/collection/"+this.name+"/"+e,body:t},function(e){return e.body})}},{key:"get",value:function(){return this._connection.request({path:"/_api/collection/"+this.name},function(e){return e.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(y.isArangoError(e)&&e.errorNum===t.COLLECTION_NOT_FOUND)return!1;throw e})}},{key:"create",value:function(e){var t=e||{},r=t.waitForSyncReplication,n=void 0===r?void 0:r,o=t.enforceReplicationFactor,i=void 0===o?void 0:o,u=a(t,["waitForSyncReplication","enforceReplicationFactor"]),s={};return"boolean"==typeof n&&(s.waitForSyncReplication=n?1:0),"boolean"==typeof i&&(s.enforceReplicationFactor=i?1:0),this._connection.request({method:"POST",path:"/_api/collection",qs:s,body:l({},u,{name:this.name,type:this.type})},function(e){return e.body})}},{key:"properties",value:function(){return this._get("properties")}},{key:"count",value:function(){return this._get("count")}},{key:"figures",value:function(){return this._get("figures")}},{key:"revision",value:function(){return this._get("revision")}},{key:"checksum",value:function(e){return this._get("checksum",e)}},{key:"load",value:function(e){return this._put("load","boolean"==typeof e?{count:e}:void 0)}},{key:"unload",value:function(){return this._put("unload",void 0)}},{key:"setProperties",value:function(e){return this._put("properties",e)}},{key:"rename",value:function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/collection/"+this.name+"/rename",body:{name:t}},function(e){return e.body});case 2:return r=e.sent,this.name=t,this._idPrefix=t+"/",e.abrupt("return",r);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"rotate",value:function(){return this._put("rotate",void 0)}},{key:"truncate",value:function(){return this._put("truncate",void 0)}},{key:"drop",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/collection/"+this.name,qs:e},function(e){return e.body})}},{key:"getResponsibleShard",value:function(e){return this._connection.request({method:"PUT",path:"/_api/collection/"+this.name+"/responsibleShard",body:e},function(e){return e.body.shardId})}},{key:"documentExists",value:function(e){return this._connection.request({method:"HEAD",path:"/_api/"+this._documentPath(e)},function(){return!0}).catch(function(e){if(404===e.statusCode)return!1;throw e})}},{key:"document",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof r&&(r={graceful:r});var n=r,o=n.allowDirtyRead,i=void 0===o?void 0:o,a=n.graceful,u=void 0!==a&&a,s=this._connection.request({path:"/_api/"+this._documentPath(e),allowDirtyRead:i},function(e){return e.body});return u?s.catch(function(e){if(y.isArangoError(e)&&e.errorNum===t.DOCUMENT_NOT_FOUND)return null;throw e}):s}},{key:"replace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev&&this._connection.arangoMajor>=3){var o=void 0,i=r;o=i.rev,r=a(i,["rev"]),n["if-match"]=o}return this._connection.request({method:"PUT",path:"/_api/"+this._documentPath(e),body:t,qs:r,headers:n},function(e){return e.body})}},{key:"update",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev&&this._connection.arangoMajor>=3){var o=void 0,i=r;o=i.rev,r=a(i,["rev"]),n["if-match"]=o}return this._connection.request({method:"PATCH",path:"/_api/"+this._documentPath(e),body:t,qs:r,headers:n},function(e){return e.body})}},{key:"bulkUpdate",value:function(e,t){return this._connection.request({method:"PATCH",path:"/_api/document/"+this.name,body:e,qs:t},function(e){return e.body})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof t&&(t={rev:t}),t.rev&&this._connection.arangoMajor>=3){var n=void 0,o=t;n=o.rev,t=a(o,["rev"]),r["if-match"]=n}return this._connection.request({method:"DELETE",path:"/_api/"+this._documentPath(e),qs:t,headers:r},function(e){return e.body})}},{key:"list",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id";return this._connection.arangoMajor<=2?this._connection.request({path:"/_api/document",qs:{type:e,collection:this.name}},function(e){return e.body.documents}):this._connection.request({method:"PUT",path:"/_api/simple/all-keys",body:{type:e,collection:this.name}},function(e){return e.body.result})}},{key:"all",value:function(e){var t=this;return this._connection.request({method:"PUT",path:"/_api/simple/all",body:l({},e,{collection:this.name})},function(e){return new p.ArrayCursor(t._connection,e.body,e.arangojsHostId)})}},{key:"any",value:function(){return this._connection.request({method:"PUT",path:"/_api/simple/any",body:{collection:this.name}},function(e){return e.body.document})}},{key:"first",value:function(e){return"number"==typeof e&&(e={count:e}),this._connection.request({method:"PUT",path:"/_api/simple/first",body:l({},e,{collection:this.name})},function(e){return e.body.result})}},{key:"last",value:function(e){return"number"==typeof e&&(e={count:e}),this._connection.request({method:"PUT",path:"/_api/simple/last",body:l({},e,{collection:this.name})},function(e){return e.body.result})}},{key:"byExample",value:function(e,t){var r=this;return this._connection.request({method:"PUT",path:"/_api/simple/by-example",body:l({},t,{example:e,collection:this.name})},function(e){return new p.ArrayCursor(r._connection,e.body,e.arangojsHostId)})}},{key:"firstExample",value:function(e){return this._connection.request({method:"PUT",path:"/_api/simple/first-example",body:{example:e,collection:this.name}},function(e){return e.body.document})}},{key:"removeByExample",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/simple/remove-by-example",body:l({},t,{example:e,collection:this.name})},function(e){return e.body})}},{key:"replaceByExample",value:function(e,t,r){return this._connection.request({method:"PUT",path:"/_api/simple/replace-by-example",body:l({},r,{example:e,newValue:t,collection:this.name})},function(e){return e.body})}},{key:"updateByExample",value:function(e,t,r){return this._connection.request({method:"PUT",path:"/_api/simple/update-by-example",body:l({},r,{example:e,newValue:t,collection:this.name})},function(e){return e.body})}},{key:"lookupByKeys",value:function(e){return this._connection.request({method:"PUT",path:"/_api/simple/lookup-by-keys",body:{keys:e,collection:this.name}},function(e){return e.body.documents})}},{key:"removeByKeys",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/simple/remove-by-keys",body:{options:t,keys:e,collection:this.name}},function(e){return e.body})}},{key:"import",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.type,n=void 0===r?"auto":r,o=a(t,["type"]);return Array.isArray(e)&&(e=e.map(function(e){return JSON.stringify(e)}).join("\r\n")+"\r\n"),this._connection.request({method:"POST",path:"/_api/import",body:e,isBinary:!0,qs:l({type:null===n?void 0:n},o,{collection:this.name})},function(e){return e.body})}},{key:"indexes",value:function(){return this._connection.request({path:"/_api/index",qs:{collection:this.name}},function(e){return e.body.indexes})}},{key:"index",value:function(e){return this._connection.request({path:"/_api/index/"+this._indexHandle(e)},function(e){return e.body})}},{key:"ensureIndex",value:function(e){return this._connection.request({method:"POST",path:"/_api/index",body:e,qs:{collection:this.name}},function(e){return e.body})}},{key:"createIndex",value:function(e){return this.ensureIndex(e)}},{key:"dropIndex",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/index/"+this._indexHandle(e)},function(e){return e.body})}},{key:"createCapConstraint",value:function(e){return"number"==typeof e&&(e={size:e}),this._connection.request({method:"POST",path:"/_api/index",body:l({},e,{type:"cap"}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createHashIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),"boolean"==typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/_api/index",body:l({unique:!1},t,{type:"hash",fields:e}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createSkipList",value:function(e,t){return"string"==typeof e&&(e=[e]),"boolean"==typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/_api/index",body:l({unique:!1},t,{type:"skiplist",fields:e}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createPersistentIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),"boolean"==typeof t&&(t={unique:t}),this._connection.request({method:"POST",path:"/_api/index",body:l({unique:!1},t,{type:"persistent",fields:e}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createGeoIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/_api/index",body:l({},t,{fields:e,type:"geo"}),qs:{collection:this.name}},function(e){return e.body})}},{key:"createFulltextIndex",value:function(e,t){return"string"==typeof e&&(e=[e]),this._connection.request({method:"POST",path:"/_api/index",body:{fields:e,minLength:t,type:"fulltext"},qs:{collection:this.name}},function(e){return e.body})}},{key:"fulltext",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.index&&(n.index=this._indexHandle(n.index)),this._connection.request({method:"PUT",path:"/_api/simple/fulltext",body:l({},n,{attribute:e,query:t,collection:this.name})},function(e){return new p.ArrayCursor(r._connection,e.body,e.arangojsHostId)})}}]),e}();t.BaseCollection=d;var v=function(e){function t(e,r){u(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.type=h.DOCUMENT_COLLECTION,o}return o(t,e),f(t,[{key:"save",value:function(e,t){return"boolean"==typeof t&&(t={returnNew:t}),this._connection.arangoMajor<=2?this._connection.request({method:"POST",path:"/_api/document",body:e,qs:l({},t,{collection:this.name})},function(e){return e.body}):this._connection.request({method:"POST",path:"/_api/document/"+this.name,body:e,qs:t},function(e){return e.body})}}]),t}(d);t.DocumentCollection=v;var m=function(e){function t(e,r){u(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.type=h.EDGE_COLLECTION,o}return o(t,e),f(t,[{key:"_documentPath",value:function(e){return this._connection.arangoMajor<3?"edge/"+this._documentHandle(e):"document/"+this._documentHandle(e)}},{key:"edge",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"boolean"==typeof t&&(t={graceful:t}),this.document(e,t)}},{key:"save",value:function(e,t,r,n){if(void 0!==r){var o=this._documentHandle(t);r=this._documentHandle(r),e=Array.isArray(e)?e.map(function(e){return Object.assign(e,{_from:o,_to:r})}):Object.assign(e,{_from:o,_to:r})}else void 0!==t&&(n=t);if("boolean"==typeof n&&(n={returnNew:n}),this._connection.arangoMajor<=2){if(Array.isArray(e))throw new Error("ArangoDB 2 does not support batch operations");return this._connection.request({method:"POST",path:"/_api/edge",body:e,qs:l({},n,{collection:this.name,from:e._from,to:e._to})},function(e){return e.body})}return this._connection.request({method:"POST",path:"/_api/document",body:e,qs:l({},n,{collection:this.name})},function(e){return e.body})}},{key:"_edges",value:function(e,t){return this._connection.request({path:"/_api/edges/"+this.name,qs:{direction:t,vertex:this._documentHandle(e)}},function(e){return e.body.edges})}},{key:"edges",value:function(e){return this._edges(e)}},{key:"inEdges",value:function(e){return this._edges(e,"in")}},{key:"outEdges",value:function(e){return this._edges(e,"out")}},{key:"traversal",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/traversal",body:l({},t,{startVertex:e,edgeCollection:this.name})},function(e){return e.body.result})}}]),t}(d);t.EdgeCollection=m,t.constructCollection=c},function(e,t,r){"use strict";var n=r(42);e.exports=Function.prototype.bind||n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Function.prototype.toString,i=/^\s*class\b/,a=function(e){try{var t=o.call(e);return i.test(t)}catch(e){return!1}},u=function(e){try{return!a(e)&&(o.call(e),!0)}catch(e){return!1}},s=Object.prototype.toString,c="function"==typeof Symbol&&"symbol"===n(Symbol.toStringTag);e.exports=function(e){if(!e)return!1;if("function"!=typeof e&&"object"!==(void 0===e?"undefined":n(e)))return!1;if("function"==typeof e&&!e.prototype)return!0;if(c)return u(e);if(a(e))return!1;var t=s.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},function(e,t,r){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){"use strict";function n(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e){return Boolean(e&&"string"==typeof e.query&&e.bindVars)}function a(e){return i(e)&&"function"==typeof e._source}function u(e){return Boolean(e&&"function"==typeof e.toAQL)}function s(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=[].concat(o(e)),s={},c=[],l=i[0],h=0;h<r.length;h++){var p=r[h],y=p;if(a(p)){var d=p._source();d.args.length?(l+=d.strings[0],r.splice.apply(r,[h,1].concat(o(d.args))),i.splice.apply(i,[h,2,i[h]+d.strings[0]].concat(o(d.strings.slice(1,d.args.length)),[d.strings[d.args.length]+i[h+1]]))):(l+=p.query+i[h+1],r.splice(h,1),i.splice(h,2,i[h]+p.query+i[h+1])),h-=1}else if(void 0!==p)if(u(p))l+=""+p.toAQL()+i[h+1];else{var v=c.indexOf(p),m=-1!==v,b="value"+(m?v:c.length);f.isArangoCollection(p)&&(b="@"+b,y=p.name),m||(c.push(p),s[b]=y),l+="@"+b+i[h+1]}else l+=i[h+1]}return{query:l,bindVars:s,_source:function(){return{strings:i,args:r}}}}var c=n([""],[""]),l=n(["",""],["",""]);Object.defineProperty(t,"__esModule",{value:!0});var f=r(1);t.isAqlQuery=i,t.isGeneratedAqlQuery=a,t.isAqlLiteral=u,t.aql=s,function(e){e.literal=function(e){return u(e)?e:{toAQL:function(){return void 0===e?"":String(e)}}},e.join=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ";return t.length?1===t.length?e(l,t[0]):e.apply(void 0,[[""].concat(o(Array(t.length-1).fill(r)),[""])].concat(o(t))):e(c)}}(s=t.aql||(t.aql={}))},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(t,r,n,o){i(this,e),this.extra=r.extra,this._connection=t,this._result=r.result,this._id=r.id,this._hasMore=Boolean(r.id&&r.hasMore),this._host=n,this.count=r.count,this._allowDirtyRead=o}return a(e,[{key:"_drain",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._more();case 2:if(this._hasMore){e.next=4;break}return e.abrupt("return",this);case 4:return e.abrupt("return",this._drain());case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"_more",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hasMore){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._connection.request({method:"PUT",path:"/_api/cursor/"+this._id,host:this._host,allowDirtyRead:this._allowDirtyRead});case 6:r=e.sent,(t=this._result).push.apply(t,n(r.body.result)),this._hasMore=r.body.hasMore;case 9:case"end":return e.stop()}},e,this)}));return e}()},{key:"all",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._drain();case 2:return t=this._result,this._result=[],e.abrupt("return",t);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"next",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._result.length||!this._hasMore){e.next=5;break}return e.next=3,this._more();case 3:e.next=0;break;case 5:if(this._result.length){e.next=7;break}return e.abrupt("return",void 0);case 7:return e.abrupt("return",this._result.shift());case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"hasNext",value:function(){return Boolean(this._hasMore||this._result.length)}},{key:"nextBatch",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._result.length||!this._hasMore){e.next=5;break}return e.next=3,this._more();case 3:e.next=0;break;case 5:if(this._result.length){e.next=7;break}return e.abrupt("return",void 0);case 7:return e.abrupt("return",this._result.splice(0,this._result.length));case 8:case"end":return e.stop()}},e,this)}));return e}()},{key:"each",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!this._result.length&&!this._hasMore){e.next=15;break}n=void 0;case 3:if(!this._result.length){e.next=10;break}if(n=t(this._result.shift(),r,this),r++,!1!==n){e.next=8;break}return e.abrupt("return",n);case 8:e.next=3;break;case 10:if(!this._hasMore){e.next=13;break}return e.next=13,this._more();case 13:e.next=1;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"every",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!this._result.length&&!this._hasMore){e.next=15;break}n=void 0;case 3:if(!this._result.length){e.next=10;break}if(n=t(this._result.shift(),r,this),r++,n){e.next=8;break}return e.abrupt("return",!1);case 8:e.next=3;break;case 10:if(!this._hasMore){e.next=13;break}return e.next=13,this._more();case 13:e.next=1;break;case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"some",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!this._result.length&&!this._hasMore){e.next=15;break}n=void 0;case 3:if(!this._result.length){e.next=10;break}if(n=t(this._result.shift(),r,this),r++,!n){e.next=8;break}return e.abrupt("return",!0);case 8:e.next=3;break;case 10:if(!this._hasMore){e.next=13;break}return e.next=13,this._more();case 13:e.next=1;break;case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}},e,this)}));return e}()},{key:"map",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=0,n=[];case 2:if(!this._result.length&&!this._hasMore){e.next=9;break}for(;this._result.length;)n.push(t(this._result.shift(),r,this)),r++;if(!this._hasMore){e.next=7;break}return e.next=7,this._more();case 7:e.next=2;break;case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}},e,this)}));return e}()},{key:"reduce",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=0,void 0!==r){e.next=7;break}if(this._result.length||this._hasMore){e.next=5;break}return e.next=5,this._more();case 5:r=this._result.shift(),n+=1;case 7:if(!this._result.length&&!this._hasMore){e.next=14;break}for(;this._result.length;)r=t(r,this._result.shift(),n,this),n++;if(!this._hasMore){e.next=12;break}return e.next=12,this._more();case 12:e.next=7;break;case 14:return e.abrupt("return",r);case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"kill",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._hasMore){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",this._connection.request({method:"DELETE",path:"/_api/cursor/"+this._id},function(){t._hasMore=!1}));case 3:case"end":return e.stop()}},e,this)}));return e}()}]),e}();t.ArrayCursor=u},function(e,t,r){"use strict";t.decode=t.parse=r(27),t.encode=t.stringify=r(28)},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(43),i="function"==typeof Symbol&&"symbol"===n(Symbol("foo")),a=Object.prototype.toString,u=Array.prototype.concat,s=Object.defineProperty,c=function(e){return"function"==typeof e&&"[object Function]"===a.call(e)},l=s&&function(){var e={};try{s(e,"x",{enumerable:!1,value:e});for(var t in e)return!1;return e.x===e}catch(e){return!1}}(),f=function(e,t,r,n){(!(t in e)||c(n)&&n())&&(l?s(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r)},h=function(e,t){var r=arguments.length>2?arguments[2]:{},n=o(t);i&&(n=u.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)f(e,n[a],t[n[a]],r[n[a]])};h.supportsDescriptors=!!l,e.exports=h},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"===(void 0===e?"undefined":n(e))&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),r}},function(e,t,r){"use strict";var n=r(2),o=r(45),i=n.call(Function.call,String.prototype.replace),a=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,u=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/;e.exports=function(){var e=o.ToString(o.CheckObjectCoercible(this));return i(i(e,a,""),u,"")}},function(e,t,r){"use strict";var n,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.getOwnPropertyDescriptor?function(){return Object.getOwnPropertyDescriptor(arguments,"callee").get}():function(){throw new TypeError},u="function"==typeof Symbol&&"symbol"===i(Symbol.iterator),s=Object.getPrototypeOf||function(e){return e.__proto__},c=n?s(n):void 0,l=o?s(o):void 0,f=o?o():void 0,h="undefined"==typeof Uint8Array?void 0:s(Uint8Array),p={"$ %Array%":Array,"$ %ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"$ %ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer.prototype,"$ %ArrayIteratorPrototype%":u?s([][Symbol.iterator]()):void 0,"$ %ArrayPrototype%":Array.prototype,"$ %ArrayProto_entries%":Array.prototype.entries,"$ %ArrayProto_forEach%":Array.prototype.forEach,"$ %ArrayProto_keys%":Array.prototype.keys,"$ %ArrayProto_values%":Array.prototype.values,"$ %AsyncFromSyncIteratorPrototype%":void 0,"$ %AsyncFunction%":void 0,"$ %AsyncFunctionPrototype%":void 0,"$ %AsyncGenerator%":o?s(f):void 0,"$ %AsyncGeneratorFunction%":l,"$ %AsyncGeneratorPrototype%":l?l.prototype:void 0,"$ %AsyncIteratorPrototype%":f&&u&&Symbol.asyncIterator?f[Symbol.asyncIterator]():void 0,"$ %Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"$ %Boolean%":Boolean,"$ %BooleanPrototype%":Boolean.prototype,"$ %DataView%":"undefined"==typeof DataView?void 0:DataView,"$ %DataViewPrototype%":"undefined"==typeof DataView?void 0:DataView.prototype,"$ %Date%":Date,"$ %DatePrototype%":Date.prototype,"$ %decodeURI%":decodeURI,"$ %decodeURIComponent%":decodeURIComponent,"$ %encodeURI%":encodeURI,"$ %encodeURIComponent%":encodeURIComponent,"$ %Error%":Error,"$ %ErrorPrototype%":Error.prototype,"$ %eval%":eval,"$ %EvalError%":EvalError,"$ %EvalErrorPrototype%":EvalError.prototype,"$ %Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"$ %Float32ArrayPrototype%":"undefined"==typeof Float32Array?void 0:Float32Array.prototype,"$ %Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"$ %Float64ArrayPrototype%":"undefined"==typeof Float64Array?void 0:Float64Array.prototype,"$ %Function%":Function,"$ %FunctionPrototype%":Function.prototype,"$ %Generator%":n?s(n()):void 0,"$ %GeneratorFunction%":c,"$ %GeneratorPrototype%":c?c.prototype:void 0,"$ %Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"$ %Int8ArrayPrototype%":"undefined"==typeof Int8Array?void 0:Int8Array.prototype,"$ %Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"$ %Int16ArrayPrototype%":"undefined"==typeof Int16Array?void 0:Int8Array.prototype,"$ %Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"$ %Int32ArrayPrototype%":"undefined"==typeof Int32Array?void 0:Int32Array.prototype,"$ %isFinite%":isFinite,"$ %isNaN%":isNaN,"$ %IteratorPrototype%":u?s(s([][Symbol.iterator]())):void 0,"$ %JSON%":JSON,"$ %JSONParse%":JSON.parse,"$ %Map%":"undefined"==typeof Map?void 0:Map,"$ %MapIteratorPrototype%":"undefined"!=typeof Map&&u?s((new Map)[Symbol.iterator]()):void 0,"$ %MapPrototype%":"undefined"==typeof Map?void 0:Map.prototype,"$ %Math%":Math,"$ %Number%":Number,"$ %NumberPrototype%":Number.prototype,"$ %Object%":Object,"$ %ObjectPrototype%":Object.prototype,"$ %ObjProto_toString%":Object.prototype.toString,"$ %ObjProto_valueOf%":Object.prototype.valueOf,"$ %parseFloat%":parseFloat,"$ %parseInt%":parseInt,"$ %Promise%":"undefined"==typeof Promise?void 0:Promise,"$ %PromisePrototype%":"undefined"==typeof Promise?void 0:Promise.prototype,"$ %PromiseProto_then%":"undefined"==typeof Promise?void 0:Promise.prototype.then,"$ %Promise_all%":"undefined"==typeof Promise?void 0:Promise.all,"$ %Promise_reject%":"undefined"==typeof Promise?void 0:Promise.reject,"$ %Promise_resolve%":"undefined"==typeof Promise?void 0:Promise.resolve,"$ %Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"$ %RangeError%":RangeError,"$ %RangeErrorPrototype%":RangeError.prototype,"$ %ReferenceError%":ReferenceError,"$ %ReferenceErrorPrototype%":ReferenceError.prototype,"$ %Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"$ %RegExp%":RegExp,"$ %RegExpPrototype%":RegExp.prototype,"$ %Set%":"undefined"==typeof Set?void 0:Set,"$ %SetIteratorPrototype%":"undefined"!=typeof Set&&u?s((new Set)[Symbol.iterator]()):void 0,"$ %SetPrototype%":"undefined"==typeof Set?void 0:Set.prototype,"$ %SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"$ %SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer.prototype,"$ %String%":String,"$ %StringIteratorPrototype%":u?s(""[Symbol.iterator]()):void 0,"$ %StringPrototype%":String.prototype,"$ %Symbol%":u?Symbol:void 0,"$ %SymbolPrototype%":u?Symbol.prototype:void 0,"$ %SyntaxError%":SyntaxError,"$ %SyntaxErrorPrototype%":SyntaxError.prototype,"$ %ThrowTypeError%":a,"$ %TypedArray%":h,"$ %TypedArrayPrototype%":h?h.prototype:void 0,"$ %TypeError%":TypeError,"$ %TypeErrorPrototype%":TypeError.prototype,"$ %Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"$ %Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?void 0:Uint8Array.prototype,"$ %Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"$ %Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray.prototype,"$ %Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"$ %Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?void 0:Uint16Array.prototype,"$ %Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"$ %Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?void 0:Uint32Array.prototype,"$ %URIError%":URIError,"$ %URIErrorPrototype%":URIError.prototype,"$ %WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"$ %WeakMapPrototype%":"undefined"==typeof WeakMap?void 0:WeakMap.prototype,"$ %WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet,"$ %WeakSetPrototype%":"undefined"==typeof WeakSet?void 0:WeakSet.prototype};e.exports=function(e,t){if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');var r="$ "+e;if(!(r in p))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===p[r]&&!t)throw new TypeError("intrinsic "+e+" exists, but is not available. Please file an issue!");return p[r]}},function(e,t,r){"use strict";var n=r(2);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,r){"use strict";var n=r(12),o="â€‹";e.exports=function(){return String.prototype.trim&&o.trim()===o?String.prototype.trim:n}},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(t,r){n(this,e),this.value=t,this.unlinkCleanup=r}return o(e,[{key:"insertBehind",value:function(e){if(e.insertBefore(this),this.behind){for(var t=e;t.behind;)t=t.behind;this.behind.insertBefore(t),t.insertBehind(this.behind)}this.behind=e}},{key:"unlink",value:function(){this.before&&(this.before.behind=this.behind),this.behind&&(this.behind.before=this.before),this.unlinkCleanup&&this.unlinkCleanup(this),this.unlinkCleanup=void 0}},{key:"insertBefore",value:function(e){this.before=e,this.unlinkCleanup||(this.unlinkCleanup=e.unlinkCleanup)}}]),e}();t.LinkedListItem=i},function(e,t,r){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(1),f=r(0),h=function(e){function t(e,r,n){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.type=l.CollectionType.DOCUMENT_COLLECTION,o.graph=n,o}return u(t,e),c(t,[{key:"document",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof t&&(t={graceful:t});var r=t,n=r.allowDirtyRead,o=void 0===n?void 0:n,i=r.graceful,a=void 0!==i&&i,u=this._connection.request({path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),allowDirtyRead:o},function(e){return e.body.vertex});return a?u.catch(function(e){if(f.isArangoError(e)&&e.errorNum===l.DOCUMENT_NOT_FOUND)return null;throw e}):u}},{key:"vertex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"boolean"==typeof t&&(t={graceful:t}),this.document(e,t)}},{key:"save",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this.name,body:e,qs:t},function(e){return e.body.vertex})}},{key:"replace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),body:t,qs:r,headers:n},function(e){return e.body.vertex})}},{key:"update",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PATCH",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),body:t,qs:r,headers:n},function(e){return e.body.vertex})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof t&&(t={rev:t}),t.rev){var n=void 0,i=t;n=i.rev,t=o(i,["rev"]),r["if-match"]=n}return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.graph.name+"/vertex/"+this._documentHandle(e),qs:t,headers:r},function(e){return e.body.removed})}}]),t}(l.BaseCollection);t.GraphVertexCollection=h;var p=function(e){function t(e,r,n){i(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return o.type=l.CollectionType.EDGE_COLLECTION,o.type=l.CollectionType.EDGE_COLLECTION,o.graph=n,o}return u(t,e),c(t,[{key:"document",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"boolean"==typeof t&&(t={graceful:t});var r=t,n=r.allowDirtyRead,o=void 0===n?void 0:n,i=r.graceful,a=void 0!==i&&i,u=this._connection.request({path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),allowDirtyRead:o},function(e){return e.body.edge});return a?u.catch(function(e){if(f.isArangoError(e)&&e.errorNum===l.DOCUMENT_NOT_FOUND)return null;throw e}):u}},{key:"save",value:function(e,t,r,n){if(void 0!==r){var o=this._documentHandle(t);r=this._documentHandle(r),e=Array.isArray(e)?e.map(function(e){return s({},e,{_from:o,_to:r})}):s({},e,{_from:o,_to:r})}else void 0!==t&&(n=t);return this._connection.request({method:"POST",path:"/_api/gharial/"+this.graph.name+"/edge/"+this.name,body:e,qs:n},function(e){return e.body.edge})}},{key:"replace",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),body:t,qs:r,headers:n},function(e){return e.body.edge})}},{key:"update",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};if("string"==typeof r&&(r={rev:r}),r.rev){var i=void 0,a=r;i=a.rev,r=o(a,["rev"]),n["if-match"]=i}return this._connection.request({method:"PATCH",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),body:t,qs:r,headers:n},function(e){return e.body.edge})}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};if("string"==typeof t&&(t={rev:t}),t.rev){var n=void 0,i=t;n=i.rev,t=o(i,["rev"]),r["if-match"]=n}return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.graph.name+"/edge/"+this._documentHandle(e),qs:t,headers:r},function(e){return e.body.removed})}}]),t}(l.EdgeCollection);t.GraphEdgeCollection=p;var y=function(){function e(t,r){i(this,e),this.name=r,this._connection=t}return c(e,[{key:"get",value:function(){return this._connection.request({path:"/_api/gharial/"+this.name},function(e){return e.body.graph})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(f.isArangoError(e)&&1924===e.errorNum)return!1;throw e})}},{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return this._connection.request({method:"POST",path:"/_api/gharial",body:s({},e,{name:this.name}),qs:t},function(e){return e.body.graph})}},{key:"drop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name,qs:{dropCollections:e}},function(e){return e.body.removed})}},{key:"vertexCollection",value:function(e){return new h(this._connection,e,this)}},{key:"listVertexCollections",value:function(e){return this._connection.request({path:"/_api/gharial/"+this.name+"/vertex",qs:e},function(e){return e.body.collections})}},{key:"vertexCollections",value:function(){function e(e){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function e(t){var r,n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listVertexCollections(t);case 2:return r=e.sent,e.abrupt("return",r.map(function(e){return new h(n._connection,e,n)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"addVertexCollection",value:function(e){return l.isArangoCollection(e)&&(e=e.name),this._connection.request({method:"POST",path:"/_api/gharial/"+this.name+"/vertex",body:{collection:e}},function(e){return e.body.graph})}},{key:"removeVertexCollection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.isArangoCollection(e)&&(e=e.name),this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name+"/vertex/"+e,qs:{dropCollection:t}},function(e){return e.body.graph})}},{key:"edgeCollection",value:function(e){return new p(this._connection,e,this)}},{key:"listEdgeCollections",value:function(){return this._connection.request({path:"/_api/gharial/"+this.name+"/edge"},function(e){return e.body.collections})}},{key:"edgeCollections",value:function(){function e(){return t.apply(this,arguments)}var t=n(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listEdgeCollections();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return new p(r._connection,e,r)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"addEdgeDefinition",value:function(e){return this._connection.request({method:"POST",path:"/_api/gharial/"+this.name+"/edge",body:e},function(e){return e.body.graph})}},{key:"replaceEdgeDefinition",value:function(e,t){return this._connection.request({method:"PUT",path:"/_api/gharial/"+this.name+"/edge/"+e,body:t},function(e){return e.body.graph})}},{key:"removeEdgeDefinition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._connection.request({method:"DELETE",path:"/_api/gharial/"+this.name+"/edge/"+e,qs:{dropCollection:t}},function(e){return e.body.graph})}},{key:"traversal",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/traversal",body:s({},t,{startVertex:e,graphName:this.name})},function(e){return e.body.result})}}]),e}();t.Graph=y},function(e,t,r){r(19),e.exports=r(20)},function(e,t,r){"use strict";(function(e){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r){function n(e,t,r,n){var o=t&&t.prototype instanceof i?t:i,a=Object.create(o.prototype),u=new y(n||[]);return a._invoke=l(e,r,u),a}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function i(){}function a(){}function u(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function c(e){function r(n,i,a,u){var s=o(e[n],e,i);if("throw"!==s.type){var c=s.arg,l=c.value;return l&&"object"===(void 0===l?"undefined":t(l))&&g.call(l,"__await")?Promise.resolve(l.__await).then(function(e){r("next",e,a,u)},function(e){r("throw",e,a,u)}):Promise.resolve(l).then(function(e){c.value=e,a(c)},u)}u(s.arg)}function n(e,t){function n(){return new Promise(function(n,o){r(e,t,n,o)})}return i=i?i.then(n,n):n()}var i;this._invoke=n}function l(e,t,r){var n=P;return function(i,a){if(n===E)throw new Error("Generator is already running");if(n===q){if("throw"===i)throw a;return v()}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var s=f(u,r);if(s){if(s===j)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===P)throw n=q,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=E;var c=o(e,t,r);if("normal"===c.type){if(n=r.done?q:A,c.arg===j)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=q,r.method="throw",r.arg=c.arg)}}}function f(e,t){var r=e.iterator[t.method];if(r===m){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=m,f(e,t),"throw"===t.method))return j;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var n=o(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,j;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=m),t.delegate=null,j):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,j)}function h(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(h,this),this.reset(!0)}function d(e){if(e){var t=e[w];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(g.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=m,t.done=!0,t};return n.next=n}}return{next:v}}function v(){return{value:m,done:!0}}var m,b=Object.prototype,g=b.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},w=_.iterator||"@@iterator",x=_.asyncIterator||"@@asyncIterator",k=_.toStringTag||"@@toStringTag",O="object"===t(e),S=r.regeneratorRuntime;if(S)return void(O&&(e.exports=S));S=r.regeneratorRuntime=O?e.exports:{},S.wrap=n;var P="suspendedStart",A="suspendedYield",E="executing",q="completed",j={},T={};T[w]=function(){return this};var C=Object.getPrototypeOf,R=C&&C(C(d([])));R&&R!==b&&g.call(R,w)&&(T=R);var D=u.prototype=i.prototype=Object.create(T);a.prototype=D.constructor=u,u.constructor=a,u[k]=a.displayName="GeneratorFunction",S.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===a||"GeneratorFunction"===(t.displayName||t.name))},S.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,k in e||(e[k]="GeneratorFunction")),e.prototype=Object.create(D),e},S.awrap=function(e){return{__await:e}},s(c.prototype),c.prototype[x]=function(){return this},S.AsyncIterator=c,S.async=function(e,t,r,o){var i=new c(n(e,t,r,o));return S.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(D),D[k]="Generator",D[w]=function(){return this},D.toString=function(){return"[object Generator]"},S.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},S.values=d,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&g.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,n){return i.type="throw",i.arg=e,r.next=t,n&&(r.method="next",r.arg=m),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var a=g.call(o,"catchLoc"),u=g.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,j):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),j},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),p(r),j}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;p(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:d(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=m),j}}}(function(){return this}()||Function("return this")())}).call(t,r(4)(e))},function(e,t,r){"use strict";e.exports=r(21).default,e.exports.default=e.exports,Object.defineProperty(e.exports,"__esModule",{value:!0})},function(e,t,r){"use strict";function n(e){return new a.Database(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=r(5);t.aql=o.aql;var i=r(1),a=r(24);t.Database=a.Database;var u=r(0);t.default=n,Object.assign(n,{CollectionType:i.CollectionType,ArangoError:u.ArangoError,Database:a.Database,aql:o.aql});var s=r(1);t.DocumentCollection=s.DocumentCollection,t.EdgeCollection=s.EdgeCollection;var c=r(17);t.Graph=c.Graph},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(23);n=n.default||n,t.default=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":a(t))&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":a(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object.defineProperty(r,"message",{configurable:!0,enumerable:!1,value:e,writable:!0}),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:r.constructor.name,writable:!0}),Error.hasOwnProperty("captureStackTrace")?(Error.captureStackTrace(r,r.constructor),o(r)):(Object.defineProperty(r,"stack",{configurable:!0,enumerable:!1,value:new Error(e).stack,writable:!0}),r)}return i(t,e),t}(function(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}(Error));t.default=u},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return h.isArangoCollection(e)?String(e.name):String(e)}function u(e){if("string"==typeof e)return{write:[e]};if(Array.isArray(e))return{write:e.map(a)};if(h.isArangoCollection(e))return{write:a(e)};var t={};return e&&(e.read&&(t.read=Array.isArray(e.read)?e.read.map(a):a(e.read)),e.write&&(t.write=Array.isArray(e.write)?e.write.map(a):a(e.write)),e.exclusive&&(t.exclusive=Array.isArray(e.exclusive)?e.exclusive.map(a):a(e.exclusive))),t}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l=r(25),f=r(5),h=r(1),p=r(26),y=r(6),d=r(0),v=r(17),m=r(59),b=r(60),g=r(61),_=r(62),w=r(63),x=function(){function e(t){i(this,e),this._connection=new p.Connection(t)}return c(e,[{key:"version",value:function(){return this._connection.request({method:"GET",path:"/_api/version"},function(e){return e.body})}},{key:"route",value:function(e,t){return new m.Route(this._connection,e,t)}},{key:"acquireHostList",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._connection.getDatabaseName()){e.next=2;break}throw new Error("Cannot acquire host list with absolute URL");case 2:return e.next=4,this._connection.request({path:"/_api/cluster/endpoints"},function(e){return e.body.endpoints.map(function(e){return e.endpoint})});case 4:t=e.sent,this._connection.addToHostList(t);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"close",value:function(){this._connection.close()}},{key:"login",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._connection.request({method:"POST",path:"/_open/auth",body:{username:t,password:r}},function(t){return e.useBearerAuth(t.body.jwt),t.body.jwt})}},{key:"useBearerAuth",value:function(e){return this._connection.setHeader("authorization","Bearer "+e),this}},{key:"useBasicAuth",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._connection.setHeader("authorization","Basic "+g.btoa(e+":"+t)),this}},{key:"useDatabase",value:function(e){return this._connection.setDatabaseName(e),this}},{key:"get",value:function(){return this._connection.request({path:"/_api/database/current"},function(e){return e.body.result})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(d.isArangoError(e)&&1228===e.errorNum)return!1;throw e})}},{key:"createDatabase",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/database",body:{users:t,name:e}},function(e){return e.body})}},{key:"listDatabases",value:function(){return this._connection.request({path:"/_api/database"},function(e){return e.body.result})}},{key:"listUserDatabases",value:function(){return this._connection.request({path:"/_api/database/user"},function(e){return e.body.result})}},{key:"dropDatabase",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/database/"+e},function(e){return e.body})}},{key:"collection",value:function(e){return new h.DocumentCollection(this._connection,e)}},{key:"edgeCollection",value:function(e){return new h.EdgeCollection(this._connection,e)}},{key:"listCollections",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._connection.request({path:"/_api/collection",qs:{excludeSystem:t}},function(t){return e._connection.arangoMajor<=2?t.body.collections:t.body.result})}},{key:"collections",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listCollections(n);case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return h.constructCollection(r._connection,e)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"truncate",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listCollections(n);case 2:return t=e.sent,e.next=5,Promise.all(t.map(function(e){return r._connection.request({method:"PUT",path:"/_api/collection/"+e.name+"/truncate"},function(e){return e.body})}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return e}()},{key:"arangoSearchView",value:function(e){return new w.ArangoSearchView(this._connection,e)}},{key:"listViews",value:function(){return this._connection.request({path:"/_api/view"},function(e){return e.body.result})}},{key:"views",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listViews();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return w.constructView(r._connection,e)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"analyzer",value:function(e){return new l.ArangoAnalyzer(this._connection,e)}},{key:"listAnalyzers",value:function(){return this._connection.request({path:"/_api/analyzer"},function(e){return e.body.result})}},{key:"analyzers",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listAnalyzers();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return r.analyzer(e.name)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"executeTransaction",value:function(e,t,r){return this._connection.request({method:"POST",path:"/_api/transaction",body:s({collections:u(e),action:t},r)},function(e){return e.body.result})}},{key:"transaction",value:function(e,t,r,n){return 1===arguments.length&&"string"==typeof e?new b.ArangoTransaction(this._connection,e):("number"==typeof r&&(n=r,r=void 0),"number"==typeof n&&(n={lockTimeout:n}),this.executeTransaction(e,t,s({params:r},n)))}},{key:"beginTransaction",value:function(e,t){var r=this;return this._connection.request({method:"POST",path:"/_api/transaction/begin",body:s({collections:u(e)},t)},function(e){return new b.ArangoTransaction(r._connection,e.body.result.id)})}},{key:"listTransactions",value:function(){return this._connection.request({path:"/_api/transaction"},function(e){return e.body.transactions})}},{key:"transactions",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listTransactions();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return r.transaction(e.id)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"graph",value:function(e){return new v.Graph(this._connection,e)}},{key:"listGraphs",value:function(){return this._connection.request({path:"/_api/gharial"},function(e){return e.body.graphs})}},{key:"graphs",value:function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.listGraphs();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return r.graph(e._key)}));case 4:case"end":return e.stop()}},e,this)}));return e}()},{key:"query",value:function(e,t,r){var o=this;f.isAqlQuery(e)?(r=t,t=e.bindVars,e=e.query):f.isAqlLiteral(e)&&(e=e.toAQL());var i=r||{},a=i.allowDirtyRead,u=void 0===a?void 0:a,c=i.timeout,l=void 0===c?void 0:c,h=n(i,["allowDirtyRead","timeout"]);return this._connection.request({method:"POST",path:"/_api/cursor",body:s({},h,{query:e,bindVars:t}),allowDirtyRead:u,timeout:l},function(e){return new y.ArrayCursor(o._connection,e.body,e.arangojsHostId,u)})}},{key:"explain",value:function(e,t,r){return f.isAqlQuery(e)?(r=t,t=e.bindVars,e=e.query):f.isAqlLiteral(e)&&(e=e.toAQL()),this._connection.request({method:"POST",path:"/_api/explain",body:{options:r,query:e,bindVars:t}},function(e){return e.body})}},{key:"parse",value:function(e){return f.isAqlQuery(e)?e=e.query:f.isAqlLiteral(e)&&(e=e.toAQL()),this._connection.request({method:"POST",path:"/_api/query",body:{query:e}},function(e){return e.body})}},{key:"queryTracking",value:function(){return this._connection.request({method:"GET",path:"/_api/query/properties"},function(e){return e.body})}},{key:"setQueryTracking",value:function(e){return this._connection.request({method:"PUT",path:"/_api/query/properties",body:e},function(e){return e.body})}},{key:"listRunningQueries",value:function(){return this._connection.request({method:"GET",path:"/_api/query/current"},function(e){return e.body})}},{key:"listSlowQueries",value:function(){return this._connection.request({method:"GET",path:"/_api/query/slow"},function(e){return e.body})}},{key:"clearSlowQueries",value:function(){return this._connection.request({method:"DELETE",path:"/_api/query/slow"},function(){})}},{key:"killQuery",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/query/"+e},function(){})}},{key:"listFunctions",value:function(){return this._connection.request({path:"/_api/aqlfunction"},function(e){return e.body})}},{key:"createFunction",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/aqlfunction",body:{name:e,code:t}},function(e){return e.body})}},{key:"dropFunction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._connection.request({method:"DELETE",path:"/_api/aqlfunction/"+e,body:{group:t}},function(e){return e.body})}},{key:"listServices",value:function(){return this._connection.request({path:"/_api/foxx"},function(e){return e.body})}},{key:"installService",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var o,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.configuration,i=c.dependencies,a=n(c,["configuration","dependencies"]),e.next=3,_.toForm({configuration:o,dependencies:i,source:r});case 3:return u=e.sent,e.next=6,this._connection.request(s({},u,{method:"POST",path:"/_api/foxx",isBinary:!0,qs:s({},a,{mount:t})}),function(e){return e.body});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"upgradeService",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var o,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.configuration,i=c.dependencies,a=n(c,["configuration","dependencies"]),e.next=3,_.toForm({configuration:o,dependencies:i,source:r});case 3:return u=e.sent,e.next=6,this._connection.request(s({},u,{method:"PATCH",path:"/_api/foxx/service",isBinary:!0,qs:s({},a,{mount:t})}),function(e){return e.body});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"replaceService",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var o,i,a,u,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.configuration,i=c.dependencies,a=n(c,["configuration","dependencies"]),e.next=3,_.toForm({configuration:o,dependencies:i,source:r});case 3:return u=e.sent,e.next=6,this._connection.request(s({},u,{method:"PUT",path:"/_api/foxx/service",isBinary:!0,qs:s({},a,{mount:t})}),function(e){return e.body});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return e}()},{key:"uninstallService",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._connection.request({method:"DELETE",path:"/_api/foxx/service",qs:s({},t,{mount:e})},function(){})}},{key:"getService",value:function(e){return this._connection.request({path:"/_api/foxx/service",qs:{mount:e}},function(e){return e.body})}},{key:"getServiceConfiguration",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,u,s,c,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({path:"/_api/foxx/configuration",qs:{mount:t,minimal:l}},function(e){return e.body});case 2:if(r=e.sent,l&&Object.keys(r).every(function(e){return r[e].title})){e.next=5;break}return e.abrupt("return",r);case 5:for(n={},o=!0,i=!1,a=void 0,e.prev=9,u=Object.keys(r)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c=s.value,n[c]=r[c].current;e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),i=!0,a=e.t0;case 17:e.prev=17,e.prev=18,!o&&u.return&&u.return();case 20:if(e.prev=20,!i){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return e}()},{key:"updateServiceConfiguration",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,u,s,c,l,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PATCH",path:"/_api/foxx/configuration",body:r,qs:{mount:t,minimal:f}},function(e){return e.body});case 2:if(n=e.sent,!f&&n.values&&Object.keys(n.values).every(function(e){return n.values[e].title})){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.getServiceConfiguration(t,f);case 7:if(o=e.sent,!n.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"replaceServiceConfiguration",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,u,s,c,l,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/foxx/configuration",body:r,qs:{mount:t,minimal:f}},function(e){return e.body});case 2:if(n=e.sent,!f&&n.values&&Object.keys(n.values).every(function(e){return n.values[e].title})){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.getServiceConfiguration(t,f);case 7:if(o=e.sent,!n.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"getServiceDependencies",value:function(){function e(e){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t){var r,n,o,i,a,u,s,c,l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({path:"/_api/foxx/dependencies",qs:{mount:t,minimal:l}},function(e){return e.body});case 2:if(r=e.sent,l&&Object.keys(r).every(function(e){return r[e].title})){e.next=5;break}return e.abrupt("return",r);case 5:for(n={},o=!0,i=!1,a=void 0,e.prev=9,u=Object.keys(r)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0)c=s.value,n[c]=r[c].current;e.next=17;break;case 13:e.prev=13,e.t0=e.catch(9),i=!0,a=e.t0;case 17:e.prev=17,e.prev=18,!o&&u.return&&u.return();case 20:if(e.prev=20,!i){e.next=23;break}throw a;case 23:return e.finish(20);case 24:return e.finish(17);case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}},e,this,[[9,13,17,25],[18,,20,24]])}));return e}()},{key:"updateServiceDependencies",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,u,s,c,l,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PATCH",path:"/_api/foxx/dependencies",body:r,qs:{mount:t,minimal:f}},function(e){return e.body});case 2:if(n=e.sent,!f&&n.values&&Object.keys(n.values).every(function(e){return n.values[e].title})){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.getServiceDependencies(t,f);case 7:if(o=e.sent,!n.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"replaceServiceDependencies",value:function(){function e(e,r){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,u,s,c,l,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/foxx/dependencies",body:r,qs:{mount:t,minimal:f}},function(e){return e.body});case 2:if(n=e.sent,!f&&n.values&&Object.keys(n.values).every(function(e){return n.values[e].title})){e.next=5;break}return e.abrupt("return",n);case 5:return e.next=7,this.getServiceDependencies(t,f);case 7:if(o=e.sent,!n.warnings){e.next=28;break}for(i=!0,a=!1,u=void 0,e.prev=12,s=Object.keys(o)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0)l=c.value,o[l].warning=n.warnings[l];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),a=!0,u=e.t0;case 20:e.prev=20,e.prev=21,!i&&s.return&&s.return();case 23:if(e.prev=23,!a){e.next=26;break}throw u;case 26:return e.finish(23);case 27:return e.finish(20);case 28:return e.abrupt("return",o);case 29:case"end":return e.stop()}},e,this,[[12,16,20,28],[21,,23,27]])}));return e}()},{key:"enableServiceDevelopmentMode",value:function(e){return this._connection.request({method:"POST",path:"/_api/foxx/development",qs:{mount:e}},function(e){return e.body})}},{key:"disableServiceDevelopmentMode",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/foxx/development",qs:{mount:e}},function(e){return e.body})}},{key:"listServiceScripts",value:function(e){return this._connection.request({path:"/_api/foxx/scripts",qs:{mount:e}},function(e){return e.body})}},{key:"runServiceScript",value:function(e,t,r){return this._connection.request({method:"POST",path:"/_api/foxx/scripts/"+t,body:r,qs:{mount:e}},function(e){return e.body})}},{key:"runServiceTests",value:function(e,t){return this._connection.request({method:"POST",path:"/_api/foxx/tests",qs:s({},t,{mount:e})},function(e){return e.body})}},{key:"getServiceReadme",value:function(e){return this._connection.request({path:"/_api/foxx/readme",qs:{mount:e}},function(e){return e.body})}},{key:"getServiceDocumentation",value:function(e){return this._connection.request({path:"/_api/foxx/swagger",qs:{mount:e}},function(e){return e.body})}},{key:"downloadService",value:function(e){return this._connection.request({method:"POST",path:"/_api/foxx/download",qs:{mount:e},expectBinary:!0},function(e){return e.body})}},{key:"commitLocalServiceState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._connection.request({method:"POST",path:"/_api/foxx/commit",qs:{replace:e}},function(){})}},{key:"name",get:function(){return this._connection.getDatabaseName()||null}}]),e}();t.Database=x},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),u=function(){function e(t,r){n(this,e),this.isArangoAnalyzer=!0,this._connection=t,this.name=r}return i(e,[{key:"get",value:function(){return this._connection.request({path:"/_api/analyzer/"+this.name},function(e){return e.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(a.isArangoError(e)&&1202===e.errorNum)return!1;throw e})}},{key:"create",value:function(e){return this._connection.request({method:"POST",path:"/_api/analyzer",body:o({name:this.name},e)},function(e){return e.body})}},{key:"drop",value:function(e){return this._connection.request({method:"DELETE",path:"/_api/analyzer/"+this.name,qs:{force:e}},function(e){return e.body})}}]),e}();t.ArangoAnalyzer=u},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return Object.getPrototypeOf(e)===Error.prototype&&e.hasOwnProperty("code")&&e.hasOwnProperty("errno")&&e.hasOwnProperty("syscall")}function u(e){var t={},r=!0,n=!1,o=void 0;try{for(var i,a=Object.keys(e)[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value,s=e[u];void 0!==s&&(t[u]=s)}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var h=r(7),p=r(0),y=r(29),d=r(56),v=r(57),m=/\/(json|javascript)(\W|$)/,b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this._activeTasks=0,this._arangoVersion=3e4,this._databaseName="_system",this._queue=new v.LinkedList,this._hosts=[],this._urls=[],this._transactionId=null,"string"==typeof t?t={url:t}:Array.isArray(t)&&(t={url:t}),void 0!==t.arangoVersion&&(this._arangoVersion=t.arangoVersion),t.isAbsolute&&(this._databaseName=!1),this._agent=t.agent,this._agentOptions=y.isBrowser?l({},t.agentOptions):l({maxSockets:3,keepAlive:!0,keepAliveMsecs:1e3},t.agentOptions),this._maxTasks=this._agentOptions.maxSockets||3,this._agentOptions.keepAlive&&(this._maxTasks*=2),this._headers=l({},t.headers),this._loadBalancingStrategy=t.loadBalancingStrategy||"NONE",this._useFailOver="ROUND_ROBIN"!==this._loadBalancingStrategy,!1===t.maxRetries?(this._shouldRetry=!1,this._maxRetries=0):(this._shouldRetry=!0,this._maxRetries=t.maxRetries||0);var r=t.url?Array.isArray(t.url)?t.url:[t.url]:["http://localhost:8529"];this.addToHostList(r),"ONE_RANDOM"===this._loadBalancingStrategy?(this._activeHost=Math.floor(Math.random()*this._hosts.length),this._activeDirtyHost=Math.floor(Math.random()*this._hosts.length)):(this._activeHost=0,this._activeDirtyHost=0)}return f(e,[{key:"_runQueue",value:function(){var e=this;if(this._queue.length&&!(this._activeTasks>=this._maxTasks)){var t=this._queue.shift(),r=this._activeHost;void 0!==t.host?r=t.host:t.allowDirtyRead?(r=this._activeDirtyHost,this._activeDirtyHost=(this._activeDirtyHost+1)%this._hosts.length,t.options.headers["x-arango-allow-dirty-read"]="true"):"ROUND_ROBIN"===this._loadBalancingStrategy&&(this._activeHost=(this._activeHost+1)%this._hosts.length),this._activeTasks+=1;var n=function(n,o){if(e._activeTasks-=1,n)!t.allowDirtyRead&&e._hosts.length>1&&e._activeHost===r&&e._useFailOver&&(e._activeHost=(e._activeHost+1)%e._hosts.length),!t.host&&e._shouldRetry&&t.retries<(e._maxRetries||e._hosts.length-1)&&a(n)&&"connect"===n.syscall&&"ECONNREFUSED"===n.code?(t.retries+=1,e._queue.push(t)):t.reject(n);else{var i=o;if(503===i.statusCode&&i.headers["x-arango-endpoint"]){var u=i.headers["x-arango-endpoint"],s=e.addToHostList(u),l=c(s,1),f=l[0];t.host=f,e._activeHost===r&&(e._activeHost=f),e._queue.push(t)}else i.arangojsHostId=r,t.resolve(i)}e._runQueue()};try{this._hosts[r](t.options,n)}catch(e){n(e)}}}},{key:"_buildUrl",value:function(e){var t=e.absolutePath,r=void 0!==t&&t,n=e.basePath,o=e.path,i=e.qs,a="",s=void 0;return r||(a=this._databasePath,n&&(a+=n)),o&&(a+=o),i&&(s="string"==typeof i?"?"+i:"?"+h.stringify(u(i))),s?{pathname:a,search:s}:{pathname:a}}},{key:"addToHostList",value:function(e){var t,r,n=this,i=(Array.isArray(e)?e:[e]).map(function(e){return d.sanitizeUrl(e)}),a=i.filter(function(e){return-1===n._urls.indexOf(e)});return(t=this._urls).push.apply(t,o(a)),(r=this._hosts).push.apply(r,o(a.map(function(e){return y.createRequest(e,n._agentOptions,n._agent)}))),i.map(function(e){return n._urls.indexOf(e)})}},{key:"getDatabaseName",value:function(){return this._databaseName}},{key:"getActiveHost",value:function(){return this._activeHost}},{key:"setDatabaseName",value:function(e){if(!1===this._databaseName)throw new Error("Can not change database from absolute URL");this._databaseName=e}},{key:"setTransactionId",value:function(e){this._transactionId=e}},{key:"clearTransactionId",value:function(){this._transactionId=null}},{key:"setHeader",value:function(e,t){this._headers[e]=t}},{key:"close",value:function(){var e=!0,t=!1,r=void 0;try{for(var n,o=this._hosts[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var i=n.value;i.close&&i.close()}}catch(e){t=!0,r=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw r}}}},{key:"request",value:function(e,t){var r=this,o=e.host,i=e.method,a=void 0===i?"GET":i,u=e.body,c=e.expectBinary,f=void 0!==c&&c,h=e.isBinary,y=void 0!==h&&h,d=e.allowDirtyRead,v=void 0!==d&&d,b=e.timeout,g=void 0===b?0:b,_=e.headers,w=n(e,["host","method","body","expectBinary","isBinary","allowDirtyRead","timeout","headers"]);return new Promise(function(e,n){var i="text/plain";y?i="application/octet-stream":u&&("object"===(void 0===u?"undefined":s(u))?(u=JSON.stringify(u),i="application/json"):u=String(u));var c=l({},r._headers,{"content-type":i,"x-arango-version":String(r._arangoVersion)});r._transactionId&&(c["x-arango-trx-id"]=r._transactionId),r._queue.push({retries:0,host:o,allowDirtyRead:v,options:{url:r._buildUrl(w),headers:l({},c,_),timeout:g,method:a,expectBinary:f,body:u},reject:n,resolve:function(r){var o=r.headers["content-type"],i=void 0;if(r.body.length&&o&&o.match(m))try{i=r.body,i=JSON.parse(i)}catch(e){if(!f)return"string"!=typeof i&&(i=r.body.toString("utf-8")),e.response=r,void n(e)}else i=r.body&&!f?r.body.toString("utf-8"):r.body;i&&i.hasOwnProperty("error")&&i.hasOwnProperty("code")&&i.hasOwnProperty("errorMessage")&&i.hasOwnProperty("errorNum")?(r.body=i,n(new p.ArangoError(r))):r.statusCode&&r.statusCode>=400?(r.body=i,n(new p.HttpError(r))):(f||(r.body=i),e(t?t(r):r))}}),r._runQueue()})}},{key:"_databasePath",get:function(){return!1===this._databaseName?"":"/_db/"+this._databaseName}},{key:"arangoMajor",get:function(){return Math.floor(this._arangoVersion/1e4)}}]),e}();t.Connection=b},function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,i){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var u=/\+/g;e=e.split(t);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var l=0;l<c;++l){var f,h,p,y,d=e[l].replace(u,"%20"),v=d.indexOf(r);v>=0?(f=d.substr(0,v),h=d.substr(v+1)):(f=d,h=""),p=decodeURIComponent(f),y=decodeURIComponent(h),n(a,p)?o(a[p])?a[p].push(y):a[p]=[a[p],y]:a[p]=y}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){switch(void 0===e?"undefined":o(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,s){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"===(void 0===e?"undefined":o(e))?n(u(e),function(o){var u=encodeURIComponent(i(o))+r;return a(e[o])?n(e[o],function(e){return u+encodeURIComponent(i(e))}).join(t):u+encodeURIComponent(i(e[o]))}).join(t):s?encodeURIComponent(i(s))+r+encodeURIComponent(i(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},u=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){var r={},n=!0,o=!1,i=void 0;try{for(var a,u=Object.keys(e)[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var s=a.value;t.includes(s)||(r[s]=e[s])}}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}function i(e,t){var r=u.parse(e),i=r.auth,l=n(r,["auth"]),f=o(t,["keepAlive","keepAliveMsecs","maxSockets"]);return function(e,t){var r=e.method,n=e.url,o=e.headers,h=e.body,p=e.timeout,y=e.expectBinary,d=a({},l,{pathname:n.pathname?l.pathname?s.joinPath(l.pathname,n.pathname):n.pathname:l.pathname,search:n.search?l.search?l.search+"&"+n.search.slice(1):n.search:l.search});o.authorization||(o.authorization="Basic "+btoa(i||"root:"));var v=function(e,r){v=function(){},t(e,r)},m=c.default(a({responseType:y?"blob":"text"},f,{url:u.format(d),withCredentials:!0,useXDR:!0,body:h,method:r,headers:o,timeout:p}),function(e,t){if(e){var r=e;r.request=m,v(r)}else t.body||(t.body=""),v(null,t)})}}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};Object.defineProperty(t,"__esModule",{value:!0});var u=r(30),s=r(33),c=r(36);t.isBrowser=!0,t.createRequest=i},function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,r){if(e&&l.isObject(e)&&e instanceof n)return e;var o=new n;return o.parse(e,t,r),o}function i(e){return l.isString(e)&&(e=o(e)),e instanceof n?e.format():n.prototype.format.call(e)}function a(e,t){return o(e,!1,!0).resolve(t)}function u(e,t){return e?o(e,!1,!0).resolveObject(t):t}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=r(31),l=r(32);t.parse=o,t.resolve=a,t.resolveObject=u,t.format=i,t.Url=n;var f=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,p=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y=["<",">",'"',"`"," ","\r","\n","\t"],d=["{","}","|","\\","^","`"].concat(y),v=["'"].concat(d),m=["%","/","?",";","#"].concat(v),b=["/","?","#"],g=/^[+a-z0-9A-Z_-]{0,63}$/,_=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},O=r(7);n.prototype.parse=function(e,t,r){if(!l.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+(void 0===e?"undefined":s(e)));var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",i=e.split(o),a=/\\/g;i[0]=i[0].replace(a,"/"),e=i.join(o);var u=e;if(u=u.trim(),!r&&1===e.split("#").length){var h=p.exec(u);if(h)return this.path=u,this.href=u,this.pathname=h[1],h[2]?(this.search=h[2],this.query=t?O.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var y=f.exec(u);if(y){y=y[0];var d=y.toLowerCase();this.protocol=d,u=u.substr(y.length)}if(r||y||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===u.substr(0,2);!S||y&&x[y]||(u=u.substr(2),this.slashes=!0)}if(!x[y]&&(S||y&&!k[y])){for(var P=-1,A=0;A<b.length;A++){var E=u.indexOf(b[A]);-1!==E&&(-1===P||E<P)&&(P=E)}var q,j;j=-1===P?u.lastIndexOf("@"):u.lastIndexOf("@",P),-1!==j&&(q=u.slice(0,j),u=u.slice(j+1),this.auth=decodeURIComponent(q)),P=-1;for(var A=0;A<m.length;A++){var E=u.indexOf(m[A]);-1!==E&&(-1===P||E<P)&&(P=E)}-1===P&&(P=u.length),this.host=u.slice(0,P),u=u.slice(P),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var C=this.hostname.split(/\./),A=0,R=C.length;A<R;A++){var D=C[A];if(D&&!D.match(g)){for(var I="",$=0,N=D.length;$<N;$++)D.charCodeAt($)>127?I+="x":I+=D[$];if(!I.match(g)){var L=C.slice(0,A),U=C.slice(A+1),M=D.match(_);M&&(L.push(M[1]),U.unshift(M[2])),U.length&&(u="/"+U.join(".")+u),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=c.toASCII(this.hostname));var F=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+F,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==u[0]&&(u="/"+u))}if(!w[d])for(var A=0,R=v.length;A<R;A++){var B=v[A];if(-1!==u.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),u=u.split(B).join(V)}}var G=u.indexOf("#");-1!==G&&(this.hash=u.substr(G),u=u.slice(0,G));var z=u.indexOf("?");if(-1!==z?(this.search=u.substr(z),this.query=u.substr(z+1),t&&(this.query=O.parse(this.query)),u=u.slice(0,z)):t&&(this.search="",this.query={}),u&&(this.pathname=u),k[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var F=this.pathname||"",W=this.search||"";this.path=F+W}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(i=O.stringify(this.query));var a=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),a=a.replace("#","%23"),t+o+r+a+n},n.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(l.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,o=Object.keys(this),i=0;i<o.length;i++){var a=o[i];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),s=0;s<u.length;s++){var c=u[s];"protocol"!==c&&(r[c]=e[c])}return k[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!k[e.protocol]){for(var f=Object.keys(e),h=0;h<f.length;h++){var p=f[h];r[p]=e[p]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||x[e.protocol])r.pathname=e.pathname;else{for(var y=(e.pathname||"").split("/");y.length&&!(e.host=y.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==y[0]&&y.unshift(""),y.length<2&&y.unshift(""),r.pathname=y.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var d=r.pathname||"",v=r.search||"";r.path=d+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),b=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=b||m||r.host&&e.pathname,_=g,w=r.pathname&&r.pathname.split("/")||[],y=e.pathname&&e.pathname.split("/")||[],O=r.protocol&&!k[r.protocol];if(O&&(r.hostname="",r.port=null,r.host&&(""===w[0]?w[0]=r.host:w.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===y[0]?y[0]=e.host:y.unshift(e.host)),e.host=null),g=g&&(""===y[0]||""===w[0])),b)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,w=y;else if(y.length)w||(w=[]),w.pop(),w=w.concat(y),r.search=e.search,r.query=e.query;else if(!l.isNullOrUndefined(e.search)){if(O){r.hostname=r.host=w.shift();var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return r.search=e.search,r.query=e.query,l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!w.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=w.slice(-1)[0],A=(r.host||e.host||w.length>1)&&("."===P||".."===P)||""===P,E=0,q=w.length;q>=0;q--)P=w[q],"."===P?w.splice(q,1):".."===P?(w.splice(q,1),E++):E&&(w.splice(q,1),E--);if(!g&&!_)for(;E--;E)w.unshift("..");!g||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),A&&"/"!==w.join("/").substr(-1)&&w.push("");var j=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(O){r.hostname=r.host=j?"":w.length?w.shift():"";var S=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");S&&(r.auth=S.shift(),r.host=r.hostname=S.shift())}return g=g||r.host&&w.length,g&&!j&&w.unshift(""),w.length?r.pathname=w.join("/"):(r.pathname=null,r.path=null),l.isNull(r.pathname)&&l.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=h.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,r){"use strict";(function(e,n){var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(a){function u(e){throw new RangeError($[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function c(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),e=e.replace(I,"."),n+s(e.split("."),t).join(".")}function l(e){for(var t,r,n=[],o=0,i=e.length;o<i;)t=e.charCodeAt(o++),t>=55296&&t<=56319&&o<i?(r=e.charCodeAt(o++),56320==(64512&r)?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--)):n.push(t);return n}function f(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function h(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:S}function p(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function y(e,t,r){var n=0;for(e=r?L(e/q):e>>1,e+=L(e/t);e>N*A>>1;n+=S)e=L(e/N);return L(n+(N+1)*e/(e+E))}function d(e){var t,r,n,o,i,a,s,c,l,p,d=[],v=e.length,m=0,b=T,g=j;for(r=e.lastIndexOf(C),r<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&u("not-basic"),d.push(e.charCodeAt(n));for(o=r>0?r+1:0;o<v;){for(i=m,a=1,s=S;o>=v&&u("invalid-input"),c=h(e.charCodeAt(o++)),(c>=S||c>L((O-m)/a))&&u("overflow"),m+=c*a,l=s<=g?P:s>=g+A?A:s-g,!(c<l);s+=S)p=S-l,a>L(O/p)&&u("overflow"),a*=p;t=d.length+1,g=y(m-i,t,0==i),L(m/t)>O-b&&u("overflow"),b+=L(m/t),m%=t,d.splice(m++,0,b)}return f(d)}function v(e){var t,r,n,o,i,a,s,c,f,h,d,v,m,b,g,_=[];for(e=l(e),v=e.length,t=T,r=0,i=j,a=0;a<v;++a)(d=e[a])<128&&_.push(U(d));for(n=o=_.length,o&&_.push(C);n<v;){for(s=O,a=0;a<v;++a)(d=e[a])>=t&&d<s&&(s=d);for(m=n+1,s-t>L((O-r)/m)&&u("overflow"),r+=(s-t)*m,t=s,a=0;a<v;++a)if(d=e[a],d<t&&++r>O&&u("overflow"),d==t){for(c=r,f=S;h=f<=i?P:f>=i+A?A:f-i,!(c<h);f+=S)g=c-h,b=S-h,_.push(U(p(h+g%b,0))),c=L(g/b);_.push(U(p(c,0))),i=y(r,m,n==o),r=0,++n}++r,++t}return _.join("")}function m(e){return c(e,function(e){return R.test(e)?d(e.slice(4).toLowerCase()):e})}function b(e){return c(e,function(e){return D.test(e)?"xn--"+v(e):e})}var g="object"==i(t)&&t&&!t.nodeType&&t,_="object"==i(e)&&e&&!e.nodeType&&e,w="object"==(void 0===n?"undefined":i(n))&&n;w.global!==w&&w.window!==w&&w.self!==w||(a=w);var x,k,O=2147483647,S=36,P=1,A=26,E=38,q=700,j=72,T=128,C="-",R=/^xn--/,D=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,$={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},N=S-P,L=Math.floor,U=String.fromCharCode;if(x={version:"1.4.1",ucs2:{decode:l,encode:f},decode:d,encode:v,toASCII:b,toUnicode:m},"object"==i(r(9))&&r(9))void 0!==(o=function(){return x}.call(t,r,t,e))&&(e.exports=o);else if(g&&_)if(e.exports==g)_.exports=x;else for(k in x)x.hasOwnProperty(k)&&(g[k]=x[k]);else a.punycode=x}(void 0)}).call(t,r(4)(e),r(8))},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"===(void 0===e?"undefined":n(e))&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34);t.joinPath=n.join},function(e,t,r){"use strict";(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!=typeof e&&(e+="");var t,r=0,n=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){r=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":e.slice(r,n)}function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=r(o(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),a="/"===i(e,-1);return e=r(o(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&a&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var r=e.length-1;r>=0&&""===e[r];r--);return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),u=a,s=0;s<a;s++)if(o[s]!==i[s]){u=s;break}for(var c=[],s=u;s<o.length;s++)c.push("..");return c=c.concat(i.slice(u)),c.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,i=e.length-1;i>=1;--i)if(47===(t=e.charCodeAt(i))){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,r=0,n=-1,o=!0,i=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===n&&(o=!1,n=a+1),46===u?-1===t?t=a:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){r=a+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(t,r(35))},function(e,t,r){"use strict";function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(h===clearTimeout)return clearTimeout(e);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function u(){v&&y&&(v=!1,y.length?d=y.concat(d):m=-1,d.length&&s())}function s(){if(!v){var e=i(u);v=!0;for(var t=d.length;t;){for(y=d,d=[];++m<t;)y&&y[m].run();m=-1,t=d.length}y=null,v=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function l(){}var f,h,p=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(e){h=o}}();var y,d=[],v=!1,m=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];d.push(new c(e,t)),1!==d.length||v||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(e){return[]},p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=r(37)},function(e,t,r){"use strict";function n(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function o(e,t,r){var n=e;return l(t)?(r=t,"string"==typeof e&&(n={uri:e})):n=h(t,{uri:e}),n.callback=r,n}function i(e,t,r){return t=o(e,t,r),a(t)}function a(e){function t(){4===l.readyState&&setTimeout(a,0)}function r(){var e=void 0;if(e=l.response?l.response:l.responseText||u(l),_)try{e=JSON.parse(e)}catch(e){}return e}function o(e){return clearTimeout(y),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,c(e,w)}function a(){if(!p){var t;clearTimeout(y),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var n=w,o=null;return 0!==t?(n={body:r(),statusCode:t,method:v,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(n.headers=f(l.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),c(o,n,n.body)}}if(void 0===e.callback)throw new Error("callback argument missing");var s=!1,c=function(t,r,n){s||(s=!0,e.callback(t,r,n))},l=e.xhr||null;l||(l=e.cors||e.useXDR?new i.XDomainRequest:new i.XMLHttpRequest);var h,p,y,d=l.url=e.uri||e.url,v=l.method=e.method||"GET",m=e.body||e.data,b=l.headers=e.headers||{},g=!!e.sync,_=!1,w={body:void 0,headers:{},statusCode:0,method:v,url:d,rawRequest:l};if("json"in e&&!1!==e.json&&(_=!0,b.accept||b.Accept||(b.Accept="application/json"),"GET"!==v&&"HEAD"!==v&&(b["content-type"]||b["Content-Type"]||(b["Content-Type"]="application/json"),m=JSON.stringify(!0===e.json?m:e.json))),l.onreadystatechange=t,l.onload=a,l.onerror=o,l.onprogress=function(){},l.onabort=function(){p=!0},l.ontimeout=o,l.open(v,d,!g,e.username,e.password),g||(l.withCredentials=!!e.withCredentials),!g&&e.timeout>0&&(y=setTimeout(function(){if(!p){p=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",o(e)}},e.timeout)),l.setRequestHeader)for(h in b)b.hasOwnProperty(h)&&l.setRequestHeader(h,b[h]);else if(e.headers&&!n(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(m||null),l}function u(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(e){}return null}function s(){}var c=r(38),l=r(39),f=r(40),h=r(55);e.exports=i,e.exports.default=i,i.XMLHttpRequest=c.XMLHttpRequest||s,i.XDomainRequest="withCredentials"in new i.XMLHttpRequest?i.XMLHttpRequest:c.XDomainRequest,function(e,t){for(var r=0;r<e.length;r++)t(e[r])}(["get","put","post","patch","head","delete"],function(e){i["delete"===e?"del":e]=function(t,r,n){return r=o(t,r,n),r.method=e.toUpperCase(),a(r)}})},function(e,t,r){"use strict";(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(8))},function(e,t,r){"use strict";function n(e){var t=o.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)}e.exports=n;var o=Object.prototype.toString},function(e,t,r){"use strict";var n=r(41),o=r(54),i=function(e){return"[object Array]"===Object.prototype.toString.call(e)};e.exports=function(e){if(!e)return{};var t={};return o(n(e).split("\n"),function(e){var r=e.indexOf(":"),o=n(e.slice(0,r)).toLowerCase(),a=n(e.slice(r+1));void 0===t[o]?t[o]=a:i(t[o])?t[o].push(a):t[o]=[t[o],a]}),t}},function(e,t,r){"use strict";var n=r(2),o=r(10),i=r(12),a=r(15),u=r(53),s=n.call(Function.call,a());o(s,{getPolyfill:a,implementation:i,shim:u}),e.exports=s},function(e,t,r){"use strict";var n=Array.prototype.slice,o=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==o.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,i=n.call(arguments,1),a=function(){if(this instanceof r){var o=t.apply(this,i.concat(n.call(arguments)));return Object(o)===o?o:this}return t.apply(e,i.concat(n.call(arguments)))},u=Math.max(0,t.length-i.length),s=[],c=0;c<u;c++)s.push("$"+c);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(a),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r}},function(e,t,r){"use strict";var n=Array.prototype.slice,o=r(11),i=Object.keys,a=i?function(e){return i(e)}:r(44),u=Object.keys;a.shim=function(){if(Object.keys){(function(){var e=Object.keys(arguments);return e&&e.length===arguments.length})(1,2)||(Object.keys=function(e){return u(o(e)?n.call(e):e)})}else Object.keys=a;return Object.keys||a},e.exports=a},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,u=r(11),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},y=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===o(window[e]))try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),d=function(e){if("undefined"==typeof window||!y)return h(e);try{return h(e)}catch(e){return!1}};n=function(e){var t=null!==e&&"object"===(void 0===e?"undefined":o(e)),r="[object Function]"===a.call(e),n=u(e),s=t&&"[object String]"===a.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=l&&r;if(s&&e.length>0&&!i.call(e,0))for(var y=0;y<e.length;++y)h.push(String(y));if(n&&e.length>0)for(var v=0;v<e.length;++v)h.push(String(v));else for(var m in e)p&&"prototype"===m||!i.call(e,m)||h.push(String(m));if(c)for(var b=d(e),g=0;g<f.length;++g)b&&"constructor"===f[g]||!i.call(e,f[g])||h.push(f[g]);return h}}e.exports=n},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(13),i=o("%Object%"),a=o("%TypeError%"),u=o("%String%"),s=r(46),c=r(47),l=r(48),f=r(49),h=r(50),p=r(3),y=r(51),d=r(14),v={ToPrimitive:y,ToBoolean:function(e){return!!e},ToNumber:function(e){return+e},ToInteger:function(e){var t=this.ToNumber(e);return c(t)?0:0!==t&&l(t)?f(t)*Math.floor(Math.abs(t)):t},ToInt32:function(e){return this.ToNumber(e)>>0},ToUint32:function(e){return this.ToNumber(e)>>>0},ToUint16:function(e){var t=this.ToNumber(e);if(c(t)||0===t||!l(t))return 0;var r=f(t)*Math.floor(Math.abs(t));return h(r,65536)},ToString:function(e){return u(e)},ToObject:function(e){return this.CheckObjectCoercible(e),i(e)},CheckObjectCoercible:function(e,t){if(null==e)throw new a(t||"Cannot call method on "+e);return e},IsCallable:p,SameValue:function(e,t){return e===t?0!==e||1/e==1/t:c(e)&&c(t)},Type:function(e){return null===e?"Null":void 0===e?"Undefined":"function"==typeof e||"object"===(void 0===e?"undefined":n(e))?"Object":"number"==typeof e?"Number":"boolean"==typeof e?"Boolean":"string"==typeof e?"String":void 0},IsPropertyDescriptor:function(e){if("Object"!==this.Type(e))return!1;var t={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var r in e)if(d(e,r)&&!t[r])return!1;var n=d(e,"[[Value]]"),o=d(e,"[[Get]]")||d(e,"[[Set]]");if(n&&o)throw new a("Property Descriptors may not be both accessor and data descriptors");return!0},IsAccessorDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!d(e,"[[Get]]")&&!d(e,"[[Set]]")))},IsDataDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!(!d(e,"[[Value]]")&&!d(e,"[[Writable]]")))},IsGenericDescriptor:function(e){return void 0!==e&&(s(this,"Property Descriptor","Desc",e),!this.IsAccessorDescriptor(e)&&!this.IsDataDescriptor(e))},FromPropertyDescriptor:function(e){if(void 0===e)return e;if(s(this,"Property Descriptor","Desc",e),this.IsDataDescriptor(e))return{value:e["[[Value]]"],writable:!!e["[[Writable]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};if(this.IsAccessorDescriptor(e))return{get:e["[[Get]]"],set:e["[[Set]]"],enumerable:!!e["[[Enumerable]]"],configurable:!!e["[[Configurable]]"]};throw new a("FromPropertyDescriptor must be called with a fully populated Property Descriptor")},ToPropertyDescriptor:function(e){if("Object"!==this.Type(e))throw new a("ToPropertyDescriptor requires an object");var t={};if(d(e,"enumerable")&&(t["[[Enumerable]]"]=this.ToBoolean(e.enumerable)),d(e,"configurable")&&(t["[[Configurable]]"]=this.ToBoolean(e.configurable)),d(e,"value")&&(t["[[Value]]"]=e.value),d(e,"writable")&&(t["[[Writable]]"]=this.ToBoolean(e.writable)),d(e,"get")){var r=e.get;if(void 0!==r&&!this.IsCallable(r))throw new TypeError("getter must be a function");t["[[Get]]"]=r}if(d(e,"set")){var n=e.set;if(void 0!==n&&!this.IsCallable(n))throw new a("setter must be a function");t["[[Set]]"]=n}if((d(t,"[[Get]]")||d(t,"[[Set]]"))&&(d(t,"[[Value]]")||d(t,"[[Writable]]")))throw new a("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}};e.exports=v},function(e,t,r){"use strict";var n=r(13),o=n("%TypeError%"),i=n("%SyntaxError%"),a=r(14),u={"Property Descriptor":function(e,t){if("Object"!==e.Type(t))return!1;var r={"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};for(var n in t)if(a(t,n)&&!r[n])return!1;var i=a(t,"[[Value]]"),u=a(t,"[[Get]]")||a(t,"[[Set]]");if(i&&u)throw new o("Property Descriptors may not be both accessor and data descriptors");return!0}};e.exports=function(e,t,r,n){var a=u[t];if("function"!=typeof a)throw new i("unknown record type: "+t);if(!a(e,n))throw new o(r+" must be a "+t);console.log(a(e,n),n)}},function(e,t,r){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},function(e,t,r){"use strict";var n=Number.isNaN||function(e){return e!==e};e.exports=Number.isFinite||function(e){return"number"==typeof e&&!n(e)&&e!==1/0&&e!==-1/0}},function(e,t,r){"use strict";e.exports=function(e){return e>=0?1:-1}},function(e,t,r){"use strict";e.exports=function(e,t){var r=e%t;return Math.floor(r>=0?r:r+t)}},function(e,t,r){"use strict";var n=Object.prototype.toString,o=r(52),i=r(3),a={"[[DefaultValue]]":function(e){var t;if((t=arguments.length>1?arguments[1]:"[object Date]"===n.call(e)?String:Number)===String||t===Number){var r,a,u=t===String?["toString","valueOf"]:["valueOf","toString"];for(a=0;a<u.length;++a)if(i(e[u[a]])&&(r=e[u[a]](),o(r)))return r;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}};e.exports=function(e){return o(e)?e:arguments.length>1?a["[[DefaultValue]]"](e,arguments[1]):a["[[DefaultValue]]"](e)}},function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};e.exports=function(e){return null===e||"function"!=typeof e&&"object"!==(void 0===e?"undefined":n(e))}},function(e,t,r){"use strict";var n=r(10),o=r(15);e.exports=function(){var e=o();return n(String.prototype,{trim:e},{trim:function(){return String.prototype.trim!==e}}),e}},function(e,t,r){"use strict";var n=r(3),o=Object.prototype.toString,i=Object.prototype.hasOwnProperty,a=function(e,t,r){for(var n=0,o=e.length;n<o;n++)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},u=function(e,t,r){for(var n=0,o=e.length;n<o;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)},s=function(e,t,r){for(var n in e)i.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))},c=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=r),"[object Array]"===o.call(e)?a(e,t,i):"string"==typeof e?u(e,t,i):s(e,t,i)};e.exports=c},function(e,t,r){"use strict";function n(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)o.call(r,n)&&(e[n]=r[n])}return e}e.exports=n;var o=Object.prototype.hasOwnProperty},function(e,t,r){"use strict";function n(e){var t=e.match(/^(tcp|ssl|tls)((?::|\+).+)/);t&&(e=("tcp"===t[1]?"http":"https")+t[2]);var r=e.match(/^(?:(https?)\+)?unix:\/\/(\/.+)/);return r&&(e=(r[1]||"http")+"://unix:"+r[2]),e}Object.defineProperty(t,"__esModule",{value:!0}),t.sanitizeUrl=n},function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(58)),n(r(16))},function(e,t,r){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var u=r(16),s=function(){function e(t){var r=this;if(o(this,e),this.length=0,this.unlinkCleanup=function(e){r.first===e&&(r.first=r.first.behind),r.last===e&&(r.last=r.last.before),r.length--},t){t instanceof e&&(t=t.values());var n=!0,i=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=u.value;this.push(c)}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}}return a(e,[{key:"every",value:function(e,t){t&&(e=e.bind(t));var r=!0,n=!1,o=void 0;try{for(var i,a=this.keys()[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;if(!e(u.value,u,this))return!1}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return!0}},{key:"filter",value:function(t,r){r&&(t=t.bind(r));var n=new e,o=!0,a=!1,u=void 0;try{for(var s,c=this[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,f=i(l,2),h=f[0],p=f[1];t(p,h,this)&&n.push(p)}}catch(e){a=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}return n}},{key:"find",value:function(e,t){t&&(e=e.bind(t));var r=!0,n=!1,o=void 0;try{for(var a,u=this[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=i(s,2),l=c[0],f=c[1];if(e(f,l,this))return f}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}}},{key:"findItem",value:function(e,t){t&&(e=e.bind(t));var r=!0,n=!1,o=void 0;try{for(var a,u=this[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=i(s,2),l=c[0];if(e(c[1],l,this))return l}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}}},{key:"forEach",value:function(e,t){t&&(e=e.bind(t));var r=!0,n=!1,o=void 0;try{for(var a,u=this[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=i(s,2),l=c[0];e(c[1],l,this)}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}}},{key:"includes",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.getItemByIndex(t);r;){if(r.value===e)return!0;r=r.behind}return!1}},{key:"itemOf",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.getItemByIndex(t);r;){if(r.value===e)return r;r=r.behind}}},{key:"lastItemOf",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=this.getItemByIndex(t);r;){if(r.value===e)return r;r=r.before}}},{key:"map",value:function(t,r){r&&(t=t.bind(r));var n=new e,o=!0,a=!1,u=void 0;try{for(var s,c=this[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value,f=i(l,2),h=f[0],p=f[1];n.push(t(p,h,this))}}catch(e){a=!0,u=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw u}}return n}},{key:"reduce",value:function(e,t){var r=this.first;if(!r){if(!t)throw new TypeError("Empty accumulator on empty LinkedList is not allowed.");return t}if(void 0===t){if(t=r.value,!r.behind)return t;r=r.behind}else t=t;do{t=e(t,r.value,r,this),r=r.behind}while(r);return t}},{key:"reduceRight",value:function(e,t){var r=this.last;if(!r){if(!t)throw new TypeError("Empty accumulator on empty LinkedList is not allowed.");return t}if(void 0===t){if(t=r.value,!r.before)return t;r=r.before}else t=t;do{t=e(t,r.value,r,this),r=r.before}while(r);return t}},{key:"some",value:function(e,t){t&&(e=e.bind(t));var r=!0,n=!1,o=void 0;try{for(var a,u=this[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var s=a.value,c=i(s,2),l=c[0];if(e(c[1],l,this))return!0}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}return!1}},{key:"join",value:function(e){return[].concat(n(this.values())).join(e)}},{key:"concat",value:function(){for(var t=new e(this),r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var f=c.value;f instanceof e?t.push.apply(t,n(f.values())):t.push(f)}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return t}},{key:"pop",value:function(){if(this.last){var e=this.last;return e.unlink(),e.value}}},{key:"push",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,l=new u.LinkedListItem(c,this.unlinkCleanup);this.first&&this.last?(this.last.insertBehind(l),this.last=l):this.first=this.last=l,this.length++}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}},{key:"unshift",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value,l=new u.LinkedListItem(c,this.unlinkCleanup);this.last&&this.first?(l.insertBehind(this.first),this.first=l):this.first=this.last=l,this.length++}}catch(e){o=!0,i=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw i}}}},{key:"remove",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=this.keys()[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var a=o.value;if(a.value===e)return a.unlink(),!0}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}return!1}},{key:"removeAllOccurrences",value:function(e){var t=!1,r=!0,n=!1,o=void 0;try{for(var i,a=this.keys()[Symbol.iterator]();!(r=(i=a.next()).done);r=!0){var u=i.value;u.value===e&&(u.unlink(),t=!0)}}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}return t}},{key:"shift",value:function(){if(this.first){var e=this.first;return e.unlink(),e.value}}},{key:Symbol.iterator,value:regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.first){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,[t,t.value];case 5:t=t.behind;case 6:if(t){e.next=3;break}case 7:case"end":return e.stop()}},e,this)})},{key:"entries",value:function(){return this[Symbol.iterator]()}},{key:"keys",value:regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.first){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t;case 5:t=t.behind;case 6:if(t){e.next=3;break}case 7:case"end":return e.stop()}},e,this)})},{key:"values",value:regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.first){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.value;case 5:t=t.behind;case 6:if(t){e.next=3;break}case 7:case"end":return e.stop()}},e,this)})},{key:"getItemByIndex",value:function(e){if(void 0===e)throw new Error("index must be a number!");if(this.first){var t=void 0;if(e>0)for(t=this.first;t&&e--;)t=t.behind;else{if(!(e<0))return this.first;for(t=this.last;t&&++e;)t=t.before}return t}}}]),e}();t.LinkedList=s},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),r?"/"!==r.charAt(0)&&(r="/"+r):r="",this._connection=t,this._path=r,this._headers=n}return u(e,[{key:"route",value:function(t,r){return t?"/"!==t.charAt(0)&&(t="/"+t):t="",new e(this._connection,this._path+t,a({},this._headers,r))}},{key:"request",value:function(e){var t=e.method,r=e.path,o=e.headers,i=void 0===o?{}:o,u=n(e,["method","path","headers"]);return r?this._path&&"/"!==r.charAt(0)?u.path="/"+r:u.path=r:u.path="",u.basePath=this._path,u.headers=a({},this._headers,i),u.method=t?t.toUpperCase():"GET",this._connection.request(u)}},{key:"_request1",value:function(e){for(var t="",r=void 0,n=void 0,o=arguments.length,a=Array(o>1?o-1:0),u=1;u<o;u++)a[u-1]=arguments[u];return void 0!==a[0]&&"string"!=typeof a[0]||(t=a.shift()),void 0!==a[0]&&"object"!==i(a[0])||(r=a.shift()),void 0!==a[0]&&"object"!==i(a[0])||(n=a.shift()),this.request({method:e,path:t,qs:r,headers:n})}},{key:"_request2",value:function(e){for(var t="",r=void 0,n=void 0,o=void 0,a=arguments.length,u=Array(a>1?a-1:0),s=1;s<a;s++)u[s-1]=arguments[s];return void 0!==u[0]&&"string"!=typeof u[0]||(t=u.shift()),r=u.shift(),void 0!==u[0]&&"object"!==i(u[0])||(n=u.shift()),void 0!==u[0]&&"object"!==i(u[0])||(o=u.shift()),this.request({method:e,path:t,body:r,qs:n,headers:o})}},{key:"delete",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._request1.apply(this,["DELETE"].concat(t))}},{key:"get",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._request1.apply(this,["GET"].concat(t))}},{key:"head",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._request1.apply(this,["HEAD"].concat(t))}},{key:"patch",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._request2.apply(this,["PATCH"].concat(t))}},{key:"post",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._request2.apply(this,["POST"].concat(t))}},{key:"put",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._request2.apply(this,["PUT"].concat(t))}}]),e}();t.Route=s},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var i=r(0),a=function(){function e(t,r){n(this,e),this.isArangoTransaction=!0,this._connection=t,this.id=r}return o(e,[{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(i.isArangoError(e)&&10===e.errorNum)return!1;throw e})}},{key:"get",value:function(){return this._connection.request({path:"/_api/transaction/"+this.id},function(e){return e.body.result})}},{key:"commit",value:function(){return this._connection.request({method:"PUT",path:"/_api/transaction/"+this.id},function(e){return e.body.result})}},{key:"abort",value:function(){return this._connection.request({method:"DELETE",path:"/_api/transaction/"+this.id},function(e){return e.body.result})}},{key:"run",value:function(e){this._connection.setTransactionId(this.id);try{return Promise.resolve(e())}finally{this._connection.clearTransactionId()}}}]),e}();t.ArangoTransaction=a},function(e,t,r){"use strict";function n(e){return window.btoa(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.btoa=n},function(e,t,r){"use strict";function n(e,t){var r=void 0;try{r=new FormData;var n=!0,i=!1,a=void 0;try{for(var u,s=Object.keys(e)[Symbol.iterator]();!(n=(u=s.next()).done);n=!0){var c=u.value,l=e[c];void 0!==l&&(l instanceof Blob||"object"!==(void 0===l?"undefined":o(l))&&"function"!=typeof l||(l=JSON.stringify(l)),r.append(c,l))}}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}}catch(e){return void t(e)}t(null,{body:r})}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0}),t.toForm=n},function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(o,i){try{var a=t[o](i),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n("next",e)},function(e){n("throw",e)});e(u)}return n("next")})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(t.type&&t.type!==l.ARANGOSEARCH_VIEW)throw new Error('Unknown view type "'+t.type+'"');return new p(e,t.name)}var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();Object.defineProperty(t,"__esModule",{value:!0});var l,f=r(0);!function(e){e.ARANGOSEARCH_VIEW="arangosearch"}(l=t.ViewType||(t.ViewType={}));var h=function(){function e(t,r){a(this,e),this.isArangoView=!0,this.name=r,this._connection=t}return c(e,[{key:"get",value:function(){return this._connection.request({path:"/_api/view/"+this.name},function(e){return e.body})}},{key:"exists",value:function(){return this.get().then(function(){return!0},function(e){if(f.isArangoError(e)&&1203===e.errorNum)return!1;throw e})}},{key:"rename",value:function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._connection.request({method:"PUT",path:"/_api/view/"+this.name+"/rename",body:{name:t}},function(e){return e.body});case 2:return r=e.sent,this.name=t,e.abrupt("return",r);case 5:case"end":return e.stop()}},e,this)}));return e}()},{key:"drop",value:function(){return this._connection.request({method:"DELETE",path:"/_api/view/"+this.name},function(e){return e.body})}}]),e}();t.BaseView=h;var p=function(e){function t(){a(this,t);var e=n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.type=l.ARANGOSEARCH_VIEW,e}return o(t,e),c(t,[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._connection.request({method:"POST",path:"/_api/view",body:s({},e,{name:this.name,type:this.type})},function(e){return e.body})}},{key:"properties",value:function(){return this._connection.request({path:"/_api/view/"+this.name+"/properties"},function(e){return e.body})}},{key:"setProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._connection.request({method:"PATCH",path:"/_api/view/"+this.name+"/properties",body:e},function(e){return e.body})}},{key:"replaceProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._connection.request({method:"PUT",path:"/_api/view/"+this.name+"/properties",body:e},function(e){return e.body})}}]),t}(h);t.ArangoSearchView=p,t.constructView=u}])});
//# sourceMappingURL=web.js.map